{% extends "base.html" %}
{% block title %}Новости — WOOM FIT{% endblock %}

{% block content %}
<h1 class="section-title">Новости</h1>

<div class="news-grid">
  {% for post in page.object_list %}
    <a class="news-card"
       href="{{ post.get_absolute_url }}"
       style="--news-font: {{ post.font_css }}; --news-text: {{ post.text_color }}; --news-ovl-rgb: {{ post.overlay_rgb }}; --news-ovl-a: {{ post.overlay_alpha }};">
      {% if post.cover %}
        <img class="news-card__img" src="{{ post.cover.url }}" alt="">
      {% else %}
        <div class="news-card__img news-card__img--stub"></div>
      {% endif %}

      <div class="news-card__shade news-card__shade--{{ post.overlay_style }}"></div>
      <div class="news-card__label">{{ post.card_text|upper }}</div>
    </a>
  {% empty %}
    <div class="card" style="text-align:center;">
      <div class="muted" style="font-weight:900;">Новостей пока нет</div>
    </div>
  {% endfor %}
</div>

{% if page.paginator.num_pages > 1 %}
  <div class="pager">
    {% if page.has_previous %}
      <a class="btn btn--ghost" href="?page={{ page.previous_page_number }}">Назад</a>
    {% endif %}
    <div class="muted" style="font-weight:900;">Страница {{ page.number }} из {{ page.paginator.num_pages }}</div>
    {% if page.has_next %}
      <a class="btn btn--ghost" href="?page={{ page.next_page_number }}">Дальше</a>
    {% endif %}
  </div>
{% endif %}
{% endblock %}
